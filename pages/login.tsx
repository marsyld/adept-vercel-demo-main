import { useState } from 'react'; export default function Login(){ const [email,setEmail]=useState('demo@byutich.local'); const [password,setPassword]=useState('demo1234'); const [msg,setMsg]=useState(''); async function submit(e:any){ e.preventDefault(); setMsg('...'); const r=await fetch('/api/auth/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email,password})}); const j=await r.json(); if(r.ok){ localStorage.setItem('token', j.token); setMsg('ok'); } else setMsg('error'); } return (<main style={{maxWidth:420,margin:'60px auto',padding:'0 20px'}}><h1>Вход</h1><form onSubmit={submit}><input value={email} onChange={e=>setEmail(e.target.value)} placeholder='E-mail' style={{display:'block',width:'100%',padding:10,margin:'10px 0'}}/><input type='password' value={password} onChange={e=>setPassword(e.target.value)} placeholder='Пароль' style={{display:'block',width:'100%',padding:10,margin:'10px 0'}}/><button type='submit'>Войти</button></form><div>{msg}</div></main>); }